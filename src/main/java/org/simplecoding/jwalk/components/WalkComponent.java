package org.simplecoding.jwalk.components;

import java.util.Deque;
import java.util.LinkedList;
import org.simplecoding.jwalk.exceptions.JWalkException;

/**
 *
 * @author fred
 */
public abstract class WalkComponent {

    /* -------------------------------------------------------------------------------------------------------------- *
     * Private Static Fields
     * -------------------------------------------------------------------------------------------------------------- */

    /* -------------------------------------------------------------------------------------------------------------- *
     * Private Fields
     * -------------------------------------------------------------------------------------------------------------- */
    private String id;

    /* -------------------------------------------------------------------------------------------------------------- *
     * Constructor
     * -------------------------------------------------------------------------------------------------------------- */
    public WalkComponent() {
        this(null);
    }

    public WalkComponent(String id) {
        this.id = id;
    }

    /* -------------------------------------------------------------------------------------------------------------- *
     * Lifecycle methods
     * -------------------------------------------------------------------------------------------------------------- */

    /* -------------------------------------------------------------------------------------------------------------- *
     * Public methods
     * -------------------------------------------------------------------------------------------------------------- */
    public Object evaluate(Object instance)
        throws
            JWalkException {

        return
            this.evaluate(
                instance,
                new LinkedList<Object>());
    }

    public abstract Object evaluate(Object instance, Deque<Object> arguments)
        throws
            JWalkException;

    /* -------------------------------------------------------------------------------------------------------------- *
     * Private methods
     * -------------------------------------------------------------------------------------------------------------- */

    /* -------------------------------------------------------------------------------------------------------------- *
     * Getters & Setters
     * -------------------------------------------------------------------------------------------------------------- */
    public String getId() {
        return id;
    }

    public WalkComponent setId(String id) {
        this.id = id;

        return this;
    }
}
